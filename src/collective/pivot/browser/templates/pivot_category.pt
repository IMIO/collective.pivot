<html
  xmlns="http://www.w3.org/1999/xhtml"
  xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  metal:use-macro="context/main_template/macros/master"
  i18n:domain="collective.pivot">
  <body>
    <metal:main fill-slot="content-core">
      <tal:def define="config view/test_config;
                         portal_url context/@@plone_portal_state/portal_url">
        <tal:if condition="config">
          <div id="root" tal:attributes="data-query_url view/query_url;
                                               data-thesaurus_url view/thesaurus_url;
                                               data-ws_key view/ws_key"></div>
          <script type="text/javascript" tal:attributes="src string:${portal_url}/++resource++collective.pivot/js/react.production.min.js"></script>
          <script type="text/javascript" tal:attributes="src string:${portal_url}/++resource++collective.pivot/js/react-dom.production.min.js"></script>
          <script type="text/javascript" tal:attributes="src string:${portal_url}/++resource++collective.pivot/js/PivotCategory.js"></script>
        </tal:if>
        <tal:else condition="not:config">
          <p>
            <span i18n:translate="">Your configuration is not complete.</span><br/>
            <a i18n:translate="" tal:attributes="href string:${portal_url}/@@pivot-controlpanel">Click here to complete setup.</a>
          </p>
        </tal:else>
      </tal:def>
    </metal:main>
  </body>
</html>
